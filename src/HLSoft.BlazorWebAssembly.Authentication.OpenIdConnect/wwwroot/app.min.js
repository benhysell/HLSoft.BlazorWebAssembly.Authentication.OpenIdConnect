"use strict";var _extends=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n};(function(){function u(n){DotNet.invokeMethodAsync("HLSoft.BlazorWebAssembly.Authentication.OpenIdConnect","NotifySilentRefreshTokenFail",n)}function t(n){return n||(n={}),n.userStore=new Oidc.WebStorageStateStore({store:r}),n}function i(n){return n.isCode?new Oidc.UserManager(t(_extends({},n,{loadUserInfo:!0,response_mode:"query"}))):new Oidc.UserManager(t(n))}window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect={};var n=null,r=window.sessionStorage;window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.configOidc=function(i){n||(n=new Oidc.UserManager(t(i)),n.events.addSilentRenewError(u),n.events.addUserSignedOut(function(){window.location.href="/"}),i.endSessionEndpoint&&(n.metadataService.getEndSessionEndpoint=function(){return Promise.resolve(i.endSessionEndpoint)}))};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.signinRedirect=function(){return n.signinRedirect()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.signoutRedirect=function(){return n.signoutRedirect()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.signoutRedirectAutomaticTimeout=function(){return n.signoutRedirect({extraQueryParams:{automaticSignout:"true"}})};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.getUser=function(){return n?n.getUser():null};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.removeUser=function(){return n.removeUser()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.signinPopup=function(){return n.signinPopup()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.signoutPopup=function(){return n.signoutPopup()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.signinSilent=function(){return n.signinSilent()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.processSigninCallback=function(n){var t=i(n);return t.signinRedirectCallback().then()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.processSilentCallback=function(){var n=new Oidc.UserManager(t());return n.signinSilentCallback(window.location.href)};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.processSigninPopup=function(n){var t=i(n);return t.signinPopupCallback()};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.processSignoutPopup=function(n){var t=i(n);t.signoutPopupCallback(!1)};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.setPageDisplayStatus=function(n){document.body.style.display=n?"block":"none"};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.silentOpenUrlInIframe=function(n,t){return new Promise(function(i,r){var u=document.createElement("iframe"),f;u.style.display="none";u.setAttribute("src",n);document.body.appendChild(u);f=window.setTimeout(function(){r(new Error("IFrame window timed out."))},t);u.onload=function(){document.body.removeChild(u);window.clearTimeout(f);i()}})};window.HLSoftBlazorWebAssemblyAuthenticationOpenIdConnect.configUserStore=function(n){r=n}})();